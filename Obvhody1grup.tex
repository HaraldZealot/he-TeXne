\documentclass[12pt, oneside]{article} 
\usepackage[xetex, a4paper, left=2cm, right=2cm, top=2cm,bottom=2cm]{geometry}
\usepackage[cm-default]{fontspec}
\usepackage{xunicode}
\usepackage{xltxtra}

\tolerance=1000
\emergencystretch=0.74cm 

\usepackage{polyglossia}
\setdefaultlanguage[spelling=modern]{russian}
\setotherlanguage{english} 
\defaultfontfeatures{Scale=MatchLowercase,Ligatures=TeX}  %% устанавливает поведение шрифтов по умолчанию  
\newfontfamily\cyrillicfont{Linux Libertine} 
\setromanfont[Mapping=tex-text]{Linux Libertine}
\setsansfont[Mapping=tex-text]{Linux Biolinum}
\setmonofont{DejaVu Sans Mono}
%\newfontfamily\cyrillicfont{Liberation Mono} 

\usepackage{makecell}

\usepackage{titlesec}
\newcommand{\sectionbreak}{\clearpage}

\renewcommand{\thesection}{\Alph{section}}
\newcount\wd    \wd=\textwidth \multiply\wd by 8 \divide\wd by 17

\author{Aliaksiej Stankievič}
\title{Групповые задачи на обходы}
\begin{document}
\section{Строптивый конь}

В пылу баталий и сражений утратил шахматный король войска, покой 
и\textellipsis ~верного коня. «О,~где мой верный конь?! Коня! Полцарства за коня!»

На шахматной доске в некоторых позициях находится конь и король. Конь и король постоянно 
двигаются, конь --- так как строптив, король же просто  неусидчив. Ходы они совершают 
одновременно, но в остальном по всем законам шахматного мира. Видимо, ради 
демонстрации своей переменчивости удача решила улыбнуться королю в его последнем горе, 
поэтому известно, что наш король коня нашёл, и более того: он совершил это за минимальное 
число ходов. Вам как придворному биографу и летописцу предстоит выяснить, каким было это 
число, и задача ваша непроста, так как Его Величество сообщил вам лишь, где была битва, 
а также где находился он сам и его конь.

\subsection*{Ввод}

В первой строке через пробел указаны два числа $ M, N (5\leq{}M, N\leq40) $ ширина и 
высота доски в клеточках. Во второй строке указаны $ x_{1}, y_{1} $начальное положение 
Его Величества, а в третьей $ x_{2}, y_{2} $ его не вполне верного 
спутника $ (1\leq{}x_{i}\leq{}M,1\leq{}y_{i}\leq{}N) $.  Координаты отсчитываются от 
верхнего левого угла (хотя вы как человек образованный полагаете, что это избыточная информация).

\subsection*{Вывод}

В единственной строке вывести число ходов, которые совершили король и конь до судьбоносной встречи.

\subsection*{Пример}

\begin{tabular}{|p{\number\wd sp}|p{\number\wd sp}|}
\hline
input.txt &output.txt \\\hline
\makecell[tl]{8 8\\2 4 \\3 8}
&2\\\hline
\end{tabular}

\section{Мёд vs Дёготь}

Некая вредная пчела стала носить в улей вместо мёда дёготь. Несколько пчёл 
узнали о сей злокозненной акции и решили принять посильные меры.

Пусть улей представляет собой прямоугольник, заполненный гексогональной сеткой. 
Вредная пчела и её противницы носят свою добычу всегда в одну и ту же ими 
выбранную соту (каждая пчела в свою). При переполнении соты мёд или дёготь 
разливается в ближайшие соседние соты, и так далее. Если мёд и дёготь пытаются 
заполнить одну и ту же соту, то они нейтрализуют друг друга, и сота остаётся пустой. 
Вы должны узнать, как будут заполнены в итоге соты.

\subsection*{Ввод}

В первой строке через пробел указаны три числа $ N, M, F (2\leq{}M, N\leq30, 1\leq{}F\leq{}3) $--- 
высота и ширина сот, и число подружек, спасающих улей. Во второй строке указана $ x_{1}, y_{1} $ сота, 
в которую носят дёготь,  а в следующих $ F $ строках $ x_{f}, y_{f} $ соты, в которые носят мёд 
$ (1\leq{}x_{i}\leq{}M,1\leq{}y_{i}\leq{}N) $.  Координаты отсчитываются от верхнего левого угла.

\subsection*{Вывод}

Вывести состояние сот в виде таблицы. Мёд обозначается \verb*" H" (honey), дёготь --- \verb*" T" (tar), 
пустая сота --- \verb*"  " (два пробела). Каждая чётная строчка отступает 
на один дополнительный пробел (см. пример).

\subsection*{Пример}

\begin{tabular}{|p{\number\wd sp}|p{\number\wd sp}|}
\hline
input.txt &output.txt \\\hline
\makecell[tl]{7 8 2\\5 5\\2 2\\3 7}
&\makecell[tl]{\verb"~H~H~H~H~H~~~T~T"\\\verb"~~H~H~H~H~~~T~T~T"\\\verb"~H~H~H~~~T~T~T~T"
\\\verb"~~H~H~~~T~T~T~T~T"\\\verb"~H~H~~~T~T~T~T~T"\\\verb" ~H~H~H~T~T~T~T~T"
\\\verb"~H~H~H~H~~~T~T~T"} \\\hline
\end{tabular}
\section{Спасая Горыныча}

Очередной нахальный рыцарь был повержен, покорёжен и сплюнут. Однако и Горынычу пришлось 
несладко --- средняя голова ничего не видит, так как проворный оруженосец дунул табаком, 
а правая кружится и болит, так как средняя сплюнула рыцаря аккурат на правую. Вся надежда налево, 
в смысле на левую голову. А так хочется побыстрее добраться в уютное логово\textellipsis 

Ваша задача помочь Горынычу быстрее добраться до дома. Для этого узнайте минимальное 
число действий которые ему надо совершить. Горыныч может либо поворачиваться в левую 
сторону на месте, либо совершать переход налево (при этом он меняет и положение корпуса) 
или налево-вперёд (по диагонали, положение корпуса не меняется). Логово Горыныча расположено 
в пещерном лабиринте, где каждая клеточка представляет собой либо стенку, либо проход. Если 
две боковые клеточки заняты стенами (например север и восток), то и проход по диагонали 
(на северо-восток) невозможен. Вокруг лабиринта сплошная стена.

\subsection*{Ввод}

В первой строке через пробел указаны два числа $ M, N (3\leq{}M, N\leq50) $ --- ширина и 
высота лабиринта. Во второй строке указаны $ x, y, d $ --- начальное положение Горыныча и 
куда направлен его корпус $ (1\leq{}x\leq{}M,1\leq{}y\leq{}N, d\in\char123 N,W,S,E\char125) $. 
В следующих $N$  строках приводится карта лабиринта, где \verb"'.'", \verb"'#'" и \verb"'@'" 
обозначают проход, стену и логово соответственно (без кавычек).  Координаты отсчитываются 
от северо-западного угла.

\subsection*{Вывод}

В единственной строке вывести минимальное число действий, нужное Горынычу.

\subsection*{Пример}

\begin{tabular}{|p{\number\wd sp}|p{\number\wd sp}|}
\hline
input.txt &output.txt \\\hline
%\makecell[tl]{8 8\\2 4 \\3 8}
\makecell[tl]{4 3\\1 2 N \\ \verb"\#@.." \\ \verb".\#.." \\ \verb"...."}
&6\\\hline
\end{tabular}
\section{Пляшущий человечек}

Перебирая старые дела, Шерлок Холмс наткнулся на рисунки пляшущих человечков. Конечно, 
он уже их расшифровал, но его заинтересовал вопрос, какой танец вдохновил преступников 
на создание этого шифра. Но надо перебирать очень много комбинаций, хорошо бы этот процесс 
автоматизировать. Это он и поручил вам.

Вам дано текущее положение человечка. Вы должны привести все варианты, которые может 
занять человечек за заданное число движений. Человечек может двигать руками и ногами 
независимо, а при особом положении и корпусом. За одно движение он может сделать что-то 
одно, например, изменить положение левой руки. Корпус можно наклонять только если обе руки 
горизонтальны, при любом положении ног. При наклонённом корпусе ни руки, ни ноги двигать 
нельзя, можно только вернуться в вертикальное положение. Корпус может быть наклонён направо, 
налево и вперёд. Рука может поднята, горизонтальна и опущена. Нога может стоять прямо или 
отставлена в сторону.

\subsection*{Ввод}

В первой строке указано число движений $ N, 0\leq{}N\leq{}8 $. В следующих 3 строках 
приводится текущее положение человечка. При вертикальном положении корпуса голова \verb'O' 
печатается в середине первой строки, а корпус \verb'|' в середине второй. При наклонном 
положении корпуса голова занимает положение (1, 1), (1, 3) и (2, 2) для наклона влево, 
вправо и вперёд соответственно.\footnote{координаты как индексы в матрице} Корпус при 
наклоне печатается одной из косых черт по центру, либо при наклоне вперёд не печатается 
совсем. Поднятая или горизонтальная рука печатаются в клеточках (1, 1) и (1, 3) с 
помощью символов \verb'\',  \verb'/' и \verb'_'. Опущенные руки печатаются в клеточках 
(2, 1) и (2, 3). Если обе ноги стоят прямо то в (3, 2) печатается \verb'Y', любая 
единственная прямая нога печатается \verb'|' там же. Отставленные в сторону ноги печатаются  
\verb'/' и \verb'\' соответственно в (3, 1) и (3, 3). Смотрите также пример: ввод и вывод.

\subsection*{Вывод}

Вывести  число положений, а затем одно под одним,\footnote{в примере для 
экономии места они распечатаны в 3 колонки} 
все положения человечка. Каждое положение занимает квадрат 3х3 символа. 
В произвольном порядке, без повторений.
\subsection*{Пример}

\begin{tabular}{|p{\number\wd sp}|p{\number\wd sp}|}
\hline
input.txt &output.txt \\\hline
\makecell[tl]{2\\ \verb"O/~"\\ \verb"/" \verb"\char92" \verb"~"\\ \verb"/|~" }
&\makecell[tl]{9\\ \verb"O/~~~~~~~~~\char92O" 
\\ \verb"/\char92~~~\char95O"\verb"\char95~~~/\char92"\\ \verb"/|~~~/|~~~/|~"
\\ \verb"\char92O"\verb"\char95~~~O\char95~~\char95O/" \\ \verb"~|~~~/|~~~~|~" 
\\ \verb"/|~~~/|~~~/|~"  \\ \verb"\char95O"\verb"\char95~~\char95O"\verb"\char95~~\char95O~" 
\\ \verb"~|~~~~|~~~~|\char92" \\ \verb"~Y~~~/~\char92~~/|~"}\\\hline
\end{tabular}
\end{document}