\documentclass[12pt, oneside]{article} 
\usepackage[xetex, a4paper, left=2cm, right=2cm, top=2cm,bottom=2cm]{geometry}
\usepackage[cm-default]{fontspec}
\usepackage{xunicode}
\usepackage{xltxtra}

\tolerance=1000
\emergencystretch=0.74cm 

\usepackage{polyglossia}
\setdefaultlanguage[spelling=modern]{russian}
\setotherlanguage{english} 
\defaultfontfeatures{Scale=MatchLowercase,Ligatures=TeX}  %% устанавливает поведение шрифтов по умолчанию  
\newfontfamily\cyrillicfont{Linux Libertine} 
\setromanfont[Mapping=tex-text]{Linux Libertine}
\setsansfont[Mapping=tex-text]{Linux Biolinum}
\setmonofont{DejaVu Sans Mono}
%\newfontfamily\cyrillicfont{Liberation Mono} 

\usepackage{makecell}

\usepackage{titlesec}
\newcommand{\sectionbreak}{\clearpage}

\renewcommand{\thesection}{\Alph{section}}
\newcount\wd    \wd=\textwidth \multiply\wd by 8 \divide\wd by 17

\author{Aliaksiej Stankievič}
\title{Групповые задачи на обходы}
\begin{document}
\section{Строптивый конь}

В пылу баталий и сражений утратил шахматный король войска, покой 
и\textellipsis ~верного коня. «О,~где мой верный конь?! Коня! Полцарства за коня!»

На шахматной доске в некоторых позициях находится конь и король. Конь и король постоянно 
двигаются, конь --- так как строптив, король же просто  неусидчив. Ходы они совершают 
одновременно, но в остальном по всем законам шахматного мира. Видимо, ради 
демонстрации своей переменчивости удача решила улыбнуться королю в его последнем горе, 
поэтому известно, что наш король коня нашёл, и более того: он совершил это за минимальное 
число ходов. Вам как придворному биографу и летописцу предстоит выяснить, каким было это 
число, и задача ваша непроста, так как Его Величество сообщил вам лишь, где была битва, 
а также где находился он сам и его конь.

\subsection*{Ввод}

В первой строке через пробел указаны два числа $ M, N (5\leq{}M, N\leq40) $ ширина и 
высота доски в клеточках. Во второй строке указаны $ x_{1}, y_{1} $начальное положение 
Его Величества, а в третьей $ x_{2}, y_{2} $ его не вполне верного 
спутника $ (1\leq{}x_{i}\leq{}M,1\leq{}y_{i}\leq{}N) $.  Координаты отсчитываются от 
верхнего левого угла (хотя вы как человек образованный полагаете, что это избыточная информация).

\subsection*{Вывод}

В единственной строке вывести число ходов, которые совершили король и конь до судьбоносной встречи.

\subsection*{Пример}

\begin{tabular}{|p{\number\wd sp}|p{\number\wd sp}|}
\hline
input.txt &output.txt \\\hline
\makecell[tl]{8 8\\2 4 \\3 8}
&2\\\hline
\end{tabular}

\section{Мёд vs Дёготь}

Некая вредная пчела стала носить в улей вместо мёда дёготь. Несколько пчёл 
узнали о сей злокозненной акции и решили принять посильные меры.

Пусть улей представляет собой прямоугольник, заполненный гексогональной сеткой. 
Вредная пчела и её противницы носят свою добычу всегда в одну и ту же ими 
выбранную соту (каждая пчела в свою). При переполнении соты мёд или дёготь 
разливается в ближайшие соседние соты, и так далее. Если мёд и дёготь пытаются 
заполнить одну и ту же соту, то они нейтрализуют друг друга, и сота остаётся пустой. 
Вы должны узнать, как будут заполнены в итоге соты.

\subsection*{Ввод}

В первой строке через пробел указаны три числа $ N, M, F (2\leq{}M, N\leq30, 1\leq{}F\leq{}3) $--- 
высота и ширина сот, и число подружек, спасающих улей. Во второй строке указана $ x_{1}, y_{1} $ сота, 
в которую носят дёготь,  а в следующих $ F $ строках $ x_{f}, y_{f} $ соты, в которые носят мёд 
$ (1\leq{}x_{i}\leq{}M,1\leq{}y_{i}\leq{}N) $.  Координаты отсчитываются от верхнего левого угла.

\subsection*{Вывод}

Вывести состояние сот в виде таблицы. Мёд обозначается \verb*" H" (honey), дёготь --- \verb*" T" (tar), 
пустая сота --- \verb*"  " (два пробела). Каждая чётная строчка отступает 
на один дополнительный пробел (см. пример).

\subsection*{Пример}

\begin{tabular}{|p{\number\wd sp}|p{\number\wd sp}|}
\hline
input.txt &output.txt \\\hline
\makecell[tl]{7 8 2\\5 5\\2 2\\3 7}
&\makecell[tl]{\verb"~H~H~H~H~H~~~T~T"\\\verb"~~H~H~H~H~~~T~T~T"\\\verb"~H~H~H~~~T~T~T~T"
\\\verb"~~H~H~~~T~T~T~T~T"\\\verb"~H~H~~~T~T~T~T~T"\\\verb" ~H~H~H~T~T~T~T~T"
\\\verb"~H~H~H~H~~~T~T~T"} \\\hline
\end{tabular}
\section{Спасая Горыныча}

Очередной нахальный рыцарь был повержен, покорёжен и сплюнут. Однако и Горынычу пришлось 
несладко --- средняя голова ничего не видит, так как проворный оруженосец дунул табаком, 
а правая кружится и болит, так как средняя сплюнула рыцаря аккурат на правую. Вся надежда налево, 
в смысле на левую голову. А так хочется побыстрее добраться в уютное логово\textellipsis 

Ваша задача помочь Горынычу быстрее добраться до дома. Для этого узнайте минимальное 
число действий которые ему надо совершить. Горыныч может либо поворачиваться в левую 
сторону на месте, либо совершать переход налево (при этом он меняет и положение корпуса) 
или налево-вперёд (по диагонали, положение корпуса не меняется). Логово Горыныча расположено 
в пещерном лабиринте, где каждая клеточка представляет собой либо стенку, либо проход. Если 
две боковые клеточки заняты стенами (например север и восток), то и проход по диагонали 
(на северо-восток) невозможен. Вокруг лабиринта сплошная стена.

\subsection*{Ввод}

В первой строке через пробел указаны два числа $ M, N (3\leq{}M, N\leq50) $ --- ширина и 
высота лабиринта. Во второй строке указаны $ x, y, d $ --- начальное положение Горыныча и 
куда направлен его корпус $ (1\leq{}x\leq{}M,1\leq{}y\leq{}N, d\in\char123 N,W,S,E\char125) $. 
В следующих $N$  строках приводится карта лабиринта, где \verb"'.'", \verb"'#'" и \verb"'@'" 
обозначают проход, стену и логово соответственно (без кавычек).  Координаты отсчитываются 
от северо-западного угла.

\subsection*{Вывод}

В единственной строке вывести минимальное число действий, нужное Горынычу.

\subsection*{Пример}

\begin{tabular}{|p{\number\wd sp}|p{\number\wd sp}|}
\hline
input.txt &output.txt \\\hline
%\makecell[tl]{8 8\\2 4 \\3 8}
\makecell[tl]{4 3\\1 2 N \\ \verb"\#@.." \\ \verb".\#.." \\ \verb"...."}
&6\\\hline
\end{tabular}
\section{Пляшущий человечек}

Перебирая старые дела, Шерлок Холмс наткнулся на рисунки пляшущих человечков. Конечно, 
он уже их расшифровал, но его заинтересовал вопрос, какой танец вдохновил преступников 
на создание этого шифра. Но надо перебирать очень много комбинаций, хорошо бы этот процесс 
автоматизировать. Это он и поручил вам.

Вам дано текущее положение человечка. Вы должны привести все варианты, которые может 
занять человечек за заданное число движений. Человечек может двигать руками и ногами 
независимо, а при особом положении и корпусом. За одно движение он может сделать что-то 
одно, например, изменить положение левой руки. Корпус можно наклонять только если обе руки 
горизонтальны, при любом положении ног. При наклонённом корпусе ни руки, ни ноги двигать 
нельзя, можно только вернуться в вертикальное положение. Корпус может быть наклонён направо, 
налево и вперёд. Рука может поднята, горизонтальна и опущена. Нога может стоять прямо или 
отставлена в сторону.

\subsection*{Ввод}

В первой строке указано число движений $ N, 0\leq{}N\leq{}8 $. В следующих 3 строках 
приводится текущее положение человечка. При вертикальном положении корпуса голова \verb'O' 
печатается в середине первой строки, а корпус \verb'|' в середине второй. При наклонном 
положении корпуса голова занимает положение (1, 1), (1, 3) и (2, 2) для наклона влево, 
вправо и вперёд соответственно.\footnote{координаты как индексы в матрице} Корпус при 
наклоне печатается одной из косых черт по центру, либо при наклоне вперёд не печатается 
совсем. Поднятая или горизонтальная рука печатаются в клеточках (1, 1) и (1, 3) с 
помощью символов \verb'\',  \verb'/' и \verb'_'. Опущенные руки печатаются в клеточках 
(2, 1) и (2, 3). Если обе ноги стоят прямо то в (3, 2) печатается \verb'Y', любая 
единственная прямая нога печатается \verb'|' там же. Отставленные в сторону ноги печатаются  
\verb'/' и \verb'\' соответственно в (3, 1) и (3, 3). Смотрите также пример: ввод и вывод.

\subsection*{Вывод}

Вывести  число положений, а затем одно под одним,\footnote{в примере для 
экономии места они распечатаны в 3 колонки} 
все положения человечка. Каждое положение занимает квадрат 3х3 символа. 
В произвольном порядке, без повторений.
\subsection*{Пример}

\begin{tabular}{|p{\number\wd sp}|p{\number\wd sp}|}
\hline
input.txt &output.txt \\\hline
\makecell[tl]{2\\ \verb"O/~"\\ \verb"/" \verb"\char92" \verb"~"\\ \verb"/|~" }
&\makecell[tl]{9\\ \verb"O/~~~~~~~~~\char92O" 
\\ \verb"/\char92~~~\char95O"\verb"\char95~~~/\char92"\\ \verb"/|~~~/|~~~/|~"
\\ \verb"\char92O"\verb"\char95~~~O\char95~~\char95O/" \\ \verb"~|~~~/|~~~~|~" 
\\ \verb"/|~~~/|~~~/|~"  \\ \verb"\char95O"\verb"\char95~~\char95O"\verb"\char95~~\char95O~" 
\\ \verb"~|~~~~|~~~~|\char92" \\ \verb"~Y~~~/~\char92~~/|~"}\\\hline
\end{tabular}

\section{Амнезия Буратино}

Думаете, если вы сами полено, то когда вас ударят другим поленом, что голова у вас болеть не будет!? 
Ещё как будет, более того вы не сразу вспомните кто вы, где вы, как тут оказались, и куда вам надо.

Да-да, вы Буратино, и вы в одном из значимых для вас мест, а очутились вы тут непонятно как, 
но точно после общения с лисой Алисой и котом Базилио. И карты\textellipsis у вас тоже больше нет. 
Кое-что вы всё-таки помните: ключ у Тортилы, дверь за очагом на холсте, помните как из одних значимых 
мест можно попасть в другие, а также в некоторые незначимые обозначенные на карте буквами (зря, что ли
Мальвина мучила), правда, с буквами всё-таки так себе (эх, Мальвина\textellipsis). Вот вы и мучаетесь в
догадках, всё ли вы помните и как быстро вы откроете дверь. Вся надежда на какого-нибудь айтишника.

\subsection*{Ввод}

В первой строке написано место, в которым вы сейчас находитесь.
Во второй строке указано $ N $ число дорог между различными местами. Далее в $ N $ строках описаны
дороги в формате 'откуда' пробел 'куда'. Пункты --- либо маленькие латинские буквы, либо одно из следующих
памятных мест: 'home'~--~дом~с~дверью, 'malvina'~--~дом~Мальвины, 'theater'~--~театр~Карабаса~Барабаса, 
'swamp'~--~болото~Тортилы, 'tratoria'~--~трактир, 'school'~--~школа, 'field'~--~Поле~Чудес.

\subsection*{Вывод}

Если вы не можете попасть к Тортиле, выведите 'The golden key is unreachable', если вы не можете попасть домой --- 
выведите 'The home is unreachable', иначе выведите наименьшее число ходов, необходимых, чтобы открыть дверь за холстом.

\subsection*{Пример}

\begin{tabular}{|p{\number\wd sp}|p{\number\wd sp}|}
\hline
input.txt &output.txt \\\hline
\makecell[tl]{field\\5\\field a\\theater swamp\\home school\\a home\\theater school}
&8\\\hline
\end{tabular}

\section{Хвостатые студенты}

Сегодня пересдача. Трое студентов (для анонимности A, B и C) имеют академическую задолженность. Но вот беда:
экзамен принимает сам Нездан Альбертович Садюгин, личность кровожадная и трудноуловимая. Призрачные шансы пересдать
есть только у того, кто будет здавать последним, но и опаздывать ни в коем случае нельзя --- гарантированный провал.
Вся ситуация осложняется тем, что, как всегда, точно неизвестно, в какой аудитории сегодня принимает Садюгин. В деканате 
нашим горемыкам сообщили три кабинета, где можно узнать реальное расположение экзаменатора. Чтобы хоть у кого-то 
были шансы сдать, каждый студент пошёл через свой кабинет. Кому же повезёт?


\subsection*{Ввод}

В первой строке указан номер деканата и аудитория, где находится Садюгин.
Во второй строке указаны три кабинета, куда пошли спрашивать A, B и C соответственно. 
В третьей строке указаны максимальное число этажей в здании $ M $, число различных этажей, на которых находятся аудитории 
факультета $ N $ и число лестниц $ S $. Далее в $ N $ строках поэтажно начиная сверху перечислены 
аудитории факультета и лестницы. Считается, что за один ход можно пройти от кабинета к кабинету, либо от кабинета к лестнице, 
либо по лестнице между этажами. С лестницы и на лестницу можно попасть только из кабинетов записанных рядом. Кабинет
это число первая цифра которого этаж, лестница обозначается буквой S с номером.

\subsection*{Вывод}

Вывести имя студента, которому повезёт, или 'nobody' если все трое или два последних придут одновременно.

\subsection*{Пример}

\begin{tabular}{|p{\number\wd sp}|p{\number\wd sp}|}
\hline
input.txt &output.txt \\\hline
\makecell[tl]{426 108\\409 607 355\\6 4 2\\603 605 S1 607 609\\406 408 409 S1 414 423 426 S2 433\\
S1 322 323 324 S2 353 355\\108 112 S1}
&C\\\hline
\end{tabular}
\end{document}